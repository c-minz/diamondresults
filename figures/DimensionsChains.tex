\begin{tikzpicture}
	\datavisualization[
		scientific axes=clean,
		x axis={length=\xaxislength cm, min value=0, max value=\xaxismax, label={spacetime dimension}, ticks={step=\xaxisticksstep, style={/pgf/number format/fixed, /pgf/number format/fixed zerofill, /pgf/number format/precision=\xaxisticksprecision}}},
		y axis={length=\yaxislength cm, min value=0, max value=\yaxismax, label={\datalabel}, ticks={step=\yaxisticksstep, style={/pgf/number format/fixed, /pgf/number format/fixed zerofill, /pgf/number format/precision=\yaxisticksprecision}}},
		all axes={grid},
		visualize as line/.list={D2f, D3f, D4f, D2c, D3c, D4c, D2, D3, D4},
		legend={right},
		new legend entry={text={$N = \dataN$}, node style={xshift=-2em}},
		new legend entry={text={}},
		new legend entry={text={flat MM:}, node style={xshift=-1.1cm}},
		D2f={style={ YorkBlue}, label in legend={text={$1+1$}}},
		D3f={style={YorkGreen}, label in legend={text={$1+2$}}},
		D4f={style={  YorkRed}, label in legend={text={$1+3$}}},
		new legend entry={text={curved MM:}, node style={xshift=-1.1cm}},
		D2c={style={ YorkCyan}, label in legend={text={$1+1$}}},
		D3c={style={ YorkLime}, label in legend={text={$1+2$}}},
		D4c={style={ YorkPink}, label in legend={text={$1+3$}}},
		new legend entry={text={midpoint:}, node style={xshift=-1.1cm}},
		D2={style={ YorkBlue, dashed}, label in legend={text={$1+1$}}},
		D3={style={YorkGreen, dashed}, label in legend={text={$1+2$}}},
		D4={style={  YorkRed, dashed}, label in legend={text={$1+3$}}}
		];
	\input{figures/ShapesGeodesicStacked}
	\clip (0cm, 0cm) rectangle (\xaxislength, \yaxislength);
	\datavisualization[
		scientific axes=clean,
		x axis={length=\xaxislength cm, min value=0, max value=\xaxismax, ticks={none}},
		y axis={length=\yaxislength cm, min value=0, max value=\yaxismax, ticks={none}},
		all axes={grid=none},
		visualize as line/.list={D2f, D3f, D4f, D2c, D3c, D4c},
		D2f={style={ YorkBlue}},
		D3f={style={YorkGreen}},
		D4f={style={  YorkRed}},
		D2c={style={ YorkCyan}},
		D3c={style={ YorkLime}},
		D4c={style={ YorkPink}}
		]
		data [set=D2f, headline={x, y}, format=\dataformat, read from file={\datadir/N\dataN D2\datashape Arr\dataarr Vol\datavol Dimflat.csv}]
		data [set=D3f, headline={x, y}, format=\dataformat, read from file={\datadir/N\dataN D3\datashape Arr\dataarr Vol\datavol Dimflat.csv}]
		data [set=D4f, headline={x, y}, format=\dataformat, read from file={\datadir/N\dataN D4\datashape Arr\dataarr Vol\datavol Dimflat.csv}]
		data [set=D2c, headline={x, y}, format=\dataformat, read from file={\datadir/N\dataN D2\datashape Arr\dataarr Vol\datavol Dimcurved.csv}]
		data [set=D3c, headline={x, y}, format=\dataformat, read from file={\datadir/N\dataN D3\datashape Arr\dataarr Vol\datavol Dimcurved.csv}]
		data [set=D4c, headline={x, y}, format=\dataformat, read from file={\datadir/N\dataN D4\datashape Arr\dataarr Vol\datavol Dimcurved.csv}];
	\datavisualization[
		scientific axes=clean,
		x axis={length=\xaxislength cm, min value=0, max value=\xaxismax, ticks={none}},
		y axis={length=\yaxislength cm, min value=0, max value=\yaxismax, ticks={none}},
		all axes={grid=none},
		visualize as line/.list={D2, D3, D4},
		D2={style={ YorkBlue, dashed}},
		D3={style={YorkGreen, dashed}},
		D4={style={  YorkRed, dashed}}
		]
		data [set=D2, headline={x, y}, format=\dataformat, read from file={\datadir/N\dataN D2\datashape Arr\dataarr Dimmid.csv}]
		data [set=D3, headline={x, y}, format=\dataformat, read from file={\datadir/N\dataN D3\datashape Arr\dataarr Dimmid.csv}]
		data [set=D4, headline={x, y}, format=\dataformat, read from file={\datadir/N\dataN D4\datashape Arr\dataarr Dimmid.csv}];
\end{tikzpicture}
